<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="robots" content="noindex, nofollow">

    <title>Buat API open data mudah, cepat dan gratis</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="http://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <style type="text/css">
    </style>
    <script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>
  </head>
  <body>
    <div id="wrapper">
      <!-- Page content -->
      <div id="page-content-wrapper">
        <div class="page-content inset" data-spy="scroll" data-target="#spy">
          <div class="row">
            <div class="jumbotron text-center" >
              <h1>Buat API Open data mudah, cepat dan gratis</h1>
              <p>Anda tinggal isi form input dengan link Google Spreadsheet anda, 
                pastikan anda membuat data Google Spreadsheet sesuai tutorial kami.</p>
              <form>
                <div class="form-group">
                  <label for="inputlg">Input Google Spreadsheet URL/Link, contoh: https://docs.google.com/spreadsheets/d/1cDPLaAbCvwcwi6qexyINU0mmvooE4F2VJHntzcJtcmg/edit</label>
                  <input class="form-control input-lg" id="inputlg" type="text" placeholder="https://docs.google.com/spreadsheets/d/1cDPLaAbCvwcwi6qexyINU0mmvooE4F2VJHntzcJtcmg/edit">
                </div>
                <div class="form-group">
                  <input class="form-control input-lg input-primary" 
                         id="submitlg" type="submit" value="BUAT API Sekarang">
                  <div id="hasil" style="display: none;">
                    <p>Silahkan Copy dan Paste Kode Embed Berikut di halaman website anda untuk menampilkan dokumentasi API anda.</p>
                    <textarea class="form-control" id="textareacopy"></textarea>
                    <p>Link Dokumentasi Anda <a target="_blank" href="" id="linkdokumentasi"></a></p>
                    <div style="margin: 10px;">
                      <div class="embed-responsive embed-responsive-16by9">
                        <iframe class="embed-responsive-item" style="width: 100%; height: 500px;" id="iframembed" src=""></iframe>
                      </div>
                    </div>
                  </div>
                </div>
              </form>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12 well">
              <legend id="tutorial">Tutorial SpreadSheet</legend>
              <p>Buat Open data anda dengan membuat Google SpreadSheet seperti contoh File 
                <a href="https://docs.google.com/spreadsheets/d/1cDPLaAbCvwcwi6qexyINU0mmvooE4F2VJHntzcJtcmg/edit" target="_blank">https://docs.google.com/spreadsheets/d/1cDPLaAbCvwcwi6qexyINU0mmvooE4F2VJHntzcJtcmg/edit</a>
                atau <a href="https://docs.google.com/spreadsheets/d/1LczlJ2WAkgu7WezXEEc_0woWLx5eizJAX7UxepTEWxU/edit" target="_blank">https://docs.google.com/spreadsheets/d/1LczlJ2WAkgu7WezXEEc_0woWLx5eizJAX7UxepTEWxU/edit#gid=0</a>
              </p>
              <p>
                Contoh Embed <a target="_blank" href="/embed/index.html?id=1cDPLaAbCvwcwi6qexyINU0mmvooE4F2VJHntzcJtcmg">/embed/index.html?id=1cDPLaAbCvwcwi6qexyINU0mmvooE4F2VJHntzcJtcmg</a>
              </p>
              <p>Variabel konstan yang diperlukan untuk membuat dokumen API adalah:</p>
              <ul>
                <li>Judul / title = judul pada file SpreadSheet anda akan menjadi judul API anda.</li>
                <li>Deskripsi = untuk menambahkan deskripsi anda bisa login ke Google Drive, dan cari file Spreadsheet anda, kemudian klik detail dan tambahkan Deskripsi.</li>
                <li>Database = Nama Sheet sama dengan nama database anda, Rename sesuai database yang anda inginkan.</li>
                <li>Field = Baris ke 1 akan kami jadikan fieldnya dari database.</li>
                <li>Record = Dari baris ke 2 sampai kebawah akan kami jadikan content API anda.</li>
                <li>Field note = Klik kanan pada Field / Header tabel anda kemudian klik <b>Sisipkan Catatan</b>/<b>Insert Note</b>, 
                  Note ini akan menjadi deskripsi Field anda, 
                  yang akan membantu seseorang mengetahui lebih detail tentang Field anda.</li>
              </ul>
              <div class="alert alert-danger">Mohon diperhatikan, Google SpreadSheet 
                sangatlah dinamis dan segala bentuk update yang anda lakukan, seperti merubah Field, Merename Sheet akan merubah key pada API anda. 
                Hal yang aman dilakukan sesudah mempublish API misalnya: menambahkan Field, Menambahkan Sheet (database), 
                merubah deskripsi file, merubah note pada Field, Merubah Judul File dan menambah Row/Insert Row 
                baru dengan Record baru aman anda lakukan.</div>
              <div class="alert alert-danger">Sesudah membuat file SpreadSheet, gunakan tombol bagikan di bagian <b>kanan atas</b>.
                <img src="/img/bagikan.png" class="img-responsive" alt="tombol bagikan" title="tombol bagikan" />
                <p><font color="red">Penting, Gunakan Opsi : Siapa saja <b>Hanya Melihat</b></font></p>
                <img src="/img/dapat-melihat-saja.png" class="img-responsive" alt="tombol bagikan" title="tombol bagikan" />
              </div>
              <h4>Contoh Gambar File</h4>
              <img src="/img/contoh-gambar.png" alt="contoh pembuatan API dari Google SpreadSheet" />
              <p>Hasil API Open Data yang sudah dibuat bisa anda cek di Halaman berikut</p>
              <a target="_blank" href="/embed/index.html?id=1LczlJ2WAkgu7WezXEEc_0woWLx5eizJAX7UxepTEWxU">/embed/index.html?id=1LczlJ2WAkgu7WezXEEc_0woWLx5eizJAX7UxepTEWxU</a>
            </div>
          </div>
          <div class="navbar navbar-default navbar-static-bottom">
            <p class="navbar-text pull-left">
              Hosted by <a href="http://github.com" target="_blank">github</a>, Develop by <a href="http://dony.asia" target="_blank">Dony.asia</a>
            </p>
          </div>
        </div>
      </div>
    </div>
    <script type="text/javascript">
      /*Menu-toggle*/
      $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("active");
      });
      $("#wrapper").toggleClass("active");
      /*Scroll Spy*/
      $('body').scrollspy({target: '#spy', offset: 80});
      /*Smooth link animation*/
      $('a[href*=#]:not([href=#])').click(function () {
        if (location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '') || location.hostname == this.hostname) {
          var target = $(this.hash);
          target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
          if (target.length) {
            $('html,body').animate({
              scrollTop: target.offset().top
            }, 1000);
            return false;
          }
        }
      });
      function explode(delimiter, string, limit) {
        //  discuss at: http://locutus.io/php/explode/
        // original by: Kevin van Zonneveld (http://kvz.io)
        //   example 1: explode(' ', 'Kevin van Zonneveld')
        //   returns 1: [ 'Kevin', 'van', 'Zonneveld' ]
        if (arguments.length < 2 ||
          typeof delimiter === 'undefined' ||
          typeof string === 'undefined') {
          return null
        }
        if (delimiter === '' ||
          delimiter === false ||
          delimiter === null) {
          return false
        }
        if (typeof delimiter === 'function' ||
          typeof delimiter === 'object' ||
          typeof string === 'function' ||
          typeof string === 'object') {
          return {
            0: ''
          }
        }
        if (delimiter === true) {
          delimiter = '1'
        }
        // Here we go...
        delimiter += ''
        string += ''
        var s = string.split(delimiter)
        if (typeof limit === 'undefined')
          return s
        // Support for limit
        if (limit === 0)
          limit = 1
        // Positive limit
        if (limit > 0) {
          if (limit >= s.length) {
            return s
          }
          return s
            .slice(0, limit - 1)
            .concat([s.slice(limit - 1)
                .join(delimiter)
            ])
        }
        // Negative limit
        if (-limit >= s.length) {
          return []
        }
        s.splice(s.length + limit)
        return s
      }
      var thisdomain = "http://createapi.dony.asia/";
      $("#submitlg").click(function () {
        if ($("#inputlg").val().length > 3) {
          vls = explode("/", $("#inputlg").val().trim());
          found = false;
          for (vl in vls) {
            console.log(vl);
            if (vls[vl] == "d") {
              found = vls[(parseFloat(vl) + 1)];
              break;
            }
          }
          if (!found) {
            alert("Invalid Google SpreadSheet URL");
            $("#hasil").hide();
          } else {
            // insert textarea with iframe code
            urlembed = thisdomain + 'embed/index.html?id=' + found;
            ifrcode = '<iframe src="' + thisdomain + 'embed/index.html?id=' + found + '" style="width:100%;height:500px;"></iframe>';
            $("#textareacopy").html(ifrcode);
            $("#iframembed").attr("src", urlembed);
            $("#linkdokumentasi").attr("href", urlembed).html(urlembed);
            $("#hasil").show();
          }
        }
        return false;
      });
    </script>
  </body>
</html>